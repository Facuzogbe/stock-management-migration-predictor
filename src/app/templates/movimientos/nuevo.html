{% extends 'base.html' %}

{% block content %}
<h2>Nuevo Movimiento de Inventario</h2>

<form method="POST">
    <div class="form-group">
        <label for="producto_id">Producto</label>
        <select class="form-control" id="producto_id" name="producto_id" required>
            <option value="">Seleccione un producto...</option>
            {% for producto in productos %}
            <option value="{{ producto.product_id }}">
                {{ producto.product_name }} ({{ producto.product_id }}) - Stock: {{ producto.stock }}
            </option>
            {% endfor %}
        </select>
    </div>

    <div class="form-group">
        <label for="movement_type">Tipo de Movimiento</label>
        <select class="form-control" id="movement_type" name="movement_type" required>
            <option value="">Seleccione un tipo...</option>
            {% for tipo, descripcion in tipos_movimiento.items() %}
            <option value="{{ tipo }}">{{ tipo }} - {{ descripcion }}</option>
            {% endfor %}
        </select>
    </div>

    <div class="form-group">
        <label for="cantidad">Cantidad</label>
        <input type="number" class="form-control" id="cantidad" name="cantidad" min="1" required>
    </div>

    <div class="form-group">
        <label for="order_id">NÃºmero de Orden (opcional)</label>
        <input type="text" class="form-control" id="order_id" name="order_id" 
               placeholder="PO-1001, SO-2001, etc.">
    </div>

    <div class="form-group">
        <label for="notes">Notas (opcional)</label>
        <textarea class="form-control" id="notes" name="notes" rows="2"></textarea>
    </div>

    <button type="submit" class="btn btn-primary">Registrar Movimiento</button>
    <a href="{{ url_for('movimientos.index') }}" class="btn btn-secondary">Cancelar</a>
</form>
{% endblock %}